  _     ___ _   _ _   ___  __   ___  ____    ____  _____ ____   ___  ____ _____ 
 | |   |_ _| \ | | | | \ \/ /  / _ \/ ___|  |  _ \| ____|  _ \ / _ \|  _ \_   _|
 | |    | ||  \| | | | |\  /  | | | \___ \  | |_) |  _| | |_) | | | | |_) || |  
 | |___ | || |\  | |_| |/  \  | |_| |___) | |  _ <| |___|  __/| |_| |  _ < | |  
 |_____|___|_| \_|\___//_/\_\  \___/|____/  |_| \_\_____|_|    \___/|_| \_\|_|  



==========================================
# SECTION 00: Script Info
==========================================
Execution Date and Time: Wed May  7 11:35:52 AM CDT 2025
Script Name: ./linux.sh
User Running the Script: root (called by: cmc)



==========================================
# SECTION 01: System Info
==========================================
## Hostname
hera
## Kernel Version
6.14.4-400.asahi.fc42.aarch64+16k
## os-release
NAME="Fedora Linux Asahi Remix"
VERSION="42 (Forty Two [Adams])"
RELEASE_TYPE=stable
ID=fedora-asahi-remix
ID_LIKE=fedora
VERSION_ID=42
VERSION_CODENAME="adams"
PLATFORM_ID="platform:f42"
PRETTY_NAME="Fedora Linux Asahi Remix 42 (Forty Two [Adams])"
ANSI_COLOR="0;38;2;60;110;180"
LOGO=fedora-logo-icon
CPE_NAME="cpe:/o:fedoraproject:fedora-asahi-remix:42"
DEFAULT_HOSTNAME="fedora"
HOME_URL="https://fedora-asahi-remix.org/"
DOCUMENTATION_URL="https://docs.fedoraproject.org/en-US/fedora/f42/system-administrators-guide/"
SUPPORT_URL="https://discussion.fedoraproject.org/c/neighbors/asahi/asahi-help/94"
BUG_REPORT_URL="https://bugzilla.redhat.com/"
REDHAT_BUGZILLA_PRODUCT="Fedora"
REDHAT_BUGZILLA_PRODUCT_VERSION=42
REDHAT_SUPPORT_PRODUCT="Fedora"
REDHAT_SUPPORT_PRODUCT_VERSION=42
VARIANT="KDE Plasma"
VARIANT_ID=kde
## IP Address
192.168.0.28 10.131.45.132 172.17.0.1 fdee:96c4:c570:7346:49aa:3a8:a80b:7306 



==========================================
# SECTION 02: Password Parameters
==========================================
## system-auth
auth        required                                     pam_env.so
auth        required                                     pam_faildelay.so delay=2000000
auth        sufficient                                   pam_unix.so nullok
auth        required                                     pam_deny.so
account     required                                     pam_unix.so
password    requisite                                    pam_pwquality.so
password    sufficient                                   pam_unix.so yescrypt shadow nullok use_authtok
password    required                                     pam_deny.so
session     optional                                     pam_keyinit.so revoke
session     required                                     pam_limits.so
-session    optional                                     pam_systemd.so
session     [success=1 default=ignore]                   pam_succeed_if.so service in crond quiet use_uid
session     required                                     pam_unix.so
## login.defs
MAIL_DIR	/var/spool/mail
UMASK		022
HOME_MODE	0700
PASS_MAX_DAYS	99999
PASS_MIN_DAYS	0
PASS_MIN_LEN	8
PASS_WARN_AGE	7
UID_MIN                  1000
UID_MAX                 60000
SYS_UID_MIN               201
SYS_UID_MAX               999
SUB_UID_MIN		   524288
SUB_UID_MAX		600100000
SUB_UID_COUNT		    65536
GID_MIN                  1000
GID_MAX                 60000
SYS_GID_MIN               201
SYS_GID_MAX               999
SUB_GID_MIN		   524288
SUB_GID_MAX		600100000
SUB_GID_COUNT		    65536
PASS_CHANGE_TRIES	5
PASS_ALWAYS_WARN	yes
ENCRYPT_METHOD YESCRYPT
USERGROUPS_ENAB yes
CREATE_HOME	yes
HMAC_CRYPTO_ALGO SHA512



==========================================
# SECTION 03: Users
==========================================
## passwd
root:x:0:0:Super User:/root:/bin/bash
bin:x:1:1:bin:/bin:/usr/sbin/nologin
daemon:x:2:2:daemon:/sbin:/usr/sbin/nologin
adm:x:3:4:adm:/var/adm:/usr/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/usr/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/usr/sbin/nologin
operator:x:11:0:operator:/root:/usr/sbin/nologin
games:x:12:100:games:/usr/games:/usr/sbin/nologin
ftp:x:14:50:FTP User:/var/ftp:/usr/sbin/nologin
nobody:x:65534:65534:Kernel Overflow User:/:/usr/sbin/nologin
tss:x:59:59:Account used for TPM access:/:/usr/sbin/nologin
dbus:x:81:81:System message bus:/:/sbin/nologin
systemd-oom:x:999:999:systemd Userspace OOM Killer:/:/usr/sbin/nologin
systemd-coredump:x:998:998:systemd Core Dumper:/:/usr/sbin/nologin
systemd-network:x:192:192:systemd Network Management:/:/usr/sbin/nologin
systemd-resolve:x:193:193:systemd Resolver:/:/usr/sbin/nologin
systemd-timesync:x:997:997:systemd Time Synchronization:/:/usr/sbin/nologin
unbound:x:995:995:Unbound DNS resolver:/var/lib/unbound:/sbin/nologin
avahi:x:70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin
polkitd:x:114:114:User for polkitd:/:/sbin/nologin
rtkit:x:172:172:RealtimeKit:/:/sbin/nologin
geoclue:x:994:994:User for geoclue:/var/lib/geoclue:/sbin/nologin
chrony:x:993:993:chrony system user:/var/lib/chrony:/sbin/nologin
openvpn:x:992:992:OpenVPN:/etc/openvpn:/usr/sbin/nologin
abrt:x:173:173::/etc/abrt:/sbin/nologin
pipewire:x:991:991:PipeWire System Daemon:/run/pipewire:/usr/sbin/nologin
flatpak:x:990:990:Flatpak system helper:/:/usr/sbin/nologin
sddm:x:988:988:SDDM Greeter Account:/var/lib/sddm:/usr/sbin/nologin
colord:x:987:987:User for colord:/var/lib/colord:/sbin/nologin
rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/usr/sbin/nologin
nm-openvpn:x:986:986:Default user for running openvpn spawned by NetworkManager:/:/sbin/nologin
sssd:x:985:985:User for sssd:/run/sssd:/sbin/nologin
mysql:x:984:984:MariaDB and MySQL Server:/var/lib/mysql:/usr/sbin/nologin
nm-openconnect:x:983:983:NetworkManager user for OpenConnect:/:/sbin/nologin
setroubleshoot:x:982:982:SELinux troubleshoot server:/var/lib/setroubleshoot:/usr/sbin/nologin
rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin
dnsmasq:x:981:981:Dnsmasq DHCP and DNS server:/var/lib/dnsmasq:/usr/sbin/nologin
tcpdump:x:72:72:tcpdump:/:/usr/sbin/nologin
usbmuxd:x:113:113:usbmuxd user:/:/usr/sbin/nologin
passim:x:979:979:Local Caching Server:/usr/share/empty:/usr/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/usr/share/empty.sshd:/usr/sbin/nologin
cmc:x:1000:1000:cmc:/home/cmc:/usr/bin/zsh
ollama:x:978:977::/usr/share/ollama:/bin/false
## group
root:x:0:
bin:x:1:
daemon:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mem:x:8:
kmem:x:9:
wheel:x:10:cmc
cdrom:x:11:
mail:x:12:
man:x:15:
dialout:x:18:
floppy:x:19:
games:x:20:
utmp:x:22:
tape:x:33:
kvm:x:36:
video:x:39:ollama
ftp:x:50:
lock:x:54:
audio:x:63:
users:x:100:
clock:x:103:
input:x:104:
render:x:105:ollama
sgx:x:106:
nobody:x:65534:
tss:x:59:
dbus:x:81:
systemd-journal:x:190:
systemd-oom:x:999:
systemd-coredump:x:998:
systemd-network:x:192:
systemd-resolve:x:193:
systemd-timesync:x:997:
printadmin:x:996:
unbound:x:995:
avahi:x:70:
polkitd:x:114:
rtkit:x:172:
geoclue:x:994:
chrony:x:993:
openvpn:x:992:
utempter:x:35:
abrt:x:173:
pipewire:x:991:
flatpak:x:990:
brlapi:x:989:
sddm:x:988:
dip:x:40:
colord:x:987:
rpc:x:32:
nm-openvpn:x:986:
sssd:x:985:
mysql:x:984:
nm-openconnect:x:983:
setroubleshoot:x:982:
rpcuser:x:29:
dnsmasq:x:981:
tcpdump:x:72:
usershares:x:980:
usbmuxd:x:113:
passim:x:979:
sshd:x:74:
plocate:x:978:
cmc:x:1000:
ollama:x:977:cmc
docker:x:976:



==========================================
# SECTION 04: Admins
==========================================
## sudoers
Defaults   !visiblepw
Defaults    always_set_home
Defaults    match_group_by_gid
Defaults    always_query_group_plugin
Defaults    env_reset
Defaults    env_keep =  "COLORS DISPLAY HOSTNAME HISTSIZE KDEDIR LS_COLORS"
Defaults    env_keep += "MAIL QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE"
Defaults    env_keep += "LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES"
Defaults    env_keep += "LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE"
Defaults    env_keep += "LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET XAUTHORITY"
Defaults    secure_path = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/var/lib/snapd/snap/bin
root	ALL=(ALL) 	ALL
%wheel	ALL=(ALL)	ALL
## Sudo Group
## Wheel Group
wheel:x:10:cmc
## Root User
root:x:0:0:Super User:/root:/bin/bash



==========================================
# SECTION 05: SSH Configuration
==========================================
## sshd_config
Include /etc/ssh/sshd_config.d/*.conf
AuthorizedKeysFile	.ssh/authorized_keys
Subsystem	sftp	/usr/libexec/openssh/sftp-server



==========================================
# SECTION 06: Logging Configuration
==========================================
## syslog.conf
File /etc/syslog.conf not found!
## logrotate.conf
weekly
rotate 4
create
dateext
include /etc/logrotate.d



==========================================
# SECTION 07: Jobs
==========================================
## Sudo Crontab
no crontab for root
## cron.allow
File /etc/cron.allow not found!



==========================================
# SECTION 08: Security Status
==========================================
## SELinux Status
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Memory protection checking:     actual (secure)
Max kernel policy version:      34
## AppArmor Status
./linux.sh: line 35: aa-status: command not found



==========================================
# SECTION 09: Firewall Rules
==========================================
## Iptables Rules
Chain INPUT (policy ACCEPT)
target     prot opt source               destination         

Chain FORWARD (policy DROP)
target     prot opt source               destination         
DOCKER-USER  all  --  anywhere             anywhere            
DOCKER-FORWARD  all  --  anywhere             anywhere            

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination         

Chain DOCKER (1 references)
target     prot opt source               destination         
DROP       all  --  anywhere             anywhere            

Chain DOCKER-BRIDGE (1 references)
target     prot opt source               destination         
DOCKER     all  --  anywhere             anywhere            

Chain DOCKER-CT (1 references)
target     prot opt source               destination         
ACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED

Chain DOCKER-FORWARD (1 references)
target     prot opt source               destination         
DOCKER-CT  all  --  anywhere             anywhere            
DOCKER-ISOLATION-STAGE-1  all  --  anywhere             anywhere            
DOCKER-BRIDGE  all  --  anywhere             anywhere            
ACCEPT     all  --  anywhere             anywhere            

Chain DOCKER-ISOLATION-STAGE-1 (1 references)
target     prot opt source               destination         
DOCKER-ISOLATION-STAGE-2  all  --  anywhere             anywhere            

Chain DOCKER-ISOLATION-STAGE-2 (1 references)
target     prot opt source               destination         
DROP       all  --  anywhere             anywhere            

Chain DOCKER-USER (1 references)
target     prot opt source               destination         
RETURN     all  --  anywhere             anywhere            



==========================================
# SECTION 10: Open Ports
==========================================
## Netstat
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
tcp        0      0 127.0.0.1:8384          0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.1:11434         0.0.0.0:*               LISTEN     
tcp        0      0 0.0.0.0:5355            0.0.0.0:*               LISTEN     
tcp        0      0 127.0.0.54:53           0.0.0.0:*               LISTEN     
tcp6       0      0 :::22000                :::*                    LISTEN     
tcp6       0      0 :::5355                 :::*                    LISTEN     
tcp6       0      0 :::1716                 :::*                    LISTEN     
tcp6       0      0 ::1:631                 :::*                    LISTEN     
udp        0      0 0.0.0.0:52495           0.0.0.0:*                          
udp        0      0 0.0.0.0:53518           0.0.0.0:*                          
udp        0      0 0.0.0.0:21027           0.0.0.0:*                          
udp        0      0 0.0.0.0:5353            0.0.0.0:*                          
udp        0      0 0.0.0.0:5355            0.0.0.0:*                          
udp        0      0 0.0.0.0:47629           0.0.0.0:*                          
udp        0      0 127.0.0.54:53           0.0.0.0:*                          
udp        0      0 127.0.0.53:53           0.0.0.0:*                          
udp        0      0 127.0.0.1:323           0.0.0.0:*                          
udp6       0      0 :::21027                :::*                               
udp6       0      0 :::5353                 :::*                               
udp6       0      0 :::5355                 :::*                               
udp6       0      0 :::22000                :::*                               
udp6       0      0 :::47629                :::*                               
udp6       0      0 :::56633                :::*                               
udp6       0      0 ::1:323                 :::*                               
udp6       0      0 :::1716                 :::*                               
